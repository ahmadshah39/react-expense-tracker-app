(this["webpackJsonpreact-expense-tracker-app"]=this["webpackJsonpreact-expense-tracker-app"]||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),r=n(9),s=n.n(r),o=(n(15),n(16),n(8)),i=n.n(o),l=n(10),x=n(6),d=n(2),u=n(3),b="ADD_TRANSACTION",j="GET_TRANSACTION",m="DELETE_TRANSACTION",f=function(t,e){switch(e.type){case j:return Object(u.a)(Object(u.a)({},t),{},{transactions:e.payload});case b:return Object(u.a)(Object(u.a)({},t),{},{transactions:[e.payload].concat(Object(x.a)(t.transactions))});case m:return Object(u.a)(Object(u.a)({},t),{},{transactions:t.transactions.filter((function(t){return t.id!==e.payload}))});default:throw new Error("Bad action")}},p=n(0),O={transactions:[]},g=Object(a.createContext)({transactions:O.transactions,getTransactions:function(){},addTransaction:function(){},deleteTransaciton:function(){}}),h=function(t){var e=t.children,n=Object(a.useReducer)(f,O),c=Object(d.a)(n,2),r=c[0],s=c[1],o=function(){var t=Object(l.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.transactions.filter((function(t){return t.id!==e})),localStorage.setItem("transactions",JSON.stringify(n)),s({type:m,payload:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsx)(g.Provider,{value:{transactions:r.transactions,getTransactions:function(){var t=JSON.parse(localStorage.getItem("transactions")||"[]");s({type:j,payload:t})},addTransaction:function(t){null!==r.transactions?localStorage.setItem("transactions",JSON.stringify([t].concat(Object(x.a)(r.transactions)))):localStorage.setItem("transactions",JSON.stringify([t])),s({type:b,payload:t})},deleteTransaciton:o},children:e})},y=function(){var t,e=Object(a.useContext)(g).transactions,n=e.map((function(t){return t.amount})).reduce((function(t,e){return t+e}),0),c=null!==(t=n<0)&&void 0!==t?t:"-";return Object(p.jsxs)("div",{className:"p-4 space-y-1",children:[Object(p.jsx)("h4",{className:"text-2xl font-bold text-gray-700",children:"YOUR BALANCE"}),null!==e?Object(p.jsxs)("h1",{className:"text-2xl md:text-6xl  font-bold text-gray-900",children:[c&&"-","$",Math.abs(n).toFixed(2)]}):Object(p.jsx)("h1",{className:"text-6xl font-bold text-gray-900",children:"LOADING..."})]})},v=function(){return Object(p.jsx)("h2",{className:"text-center text-gray-900 font-semibold text-xl sm:text-2xl md:text-4xl lg:text-5xl my-5",children:"Expense Tracker"})},N=function(){var t=Object(a.useContext)(g).transactions.map((function(t){return t.amount})),e=t.filter((function(t){return t>0})).reduce((function(t,e){return t+e}),0),n=-1*t.filter((function(t){return t<0})).reduce((function(t,e){return t+e}),0);return Object(p.jsxs)("div",{className:"flex justify-between items-center my-5 p-5 shadow-lg bg-white ",children:[Object(p.jsxs)("div",{className:"flex-1 text-center border-r border-gray-500 p-2",children:[Object(p.jsx)("h4",{className:"uppercase font-bold text-gray-600",children:"income"}),Object(p.jsxs)("p",{className:"text-md md:text-xl break-all tracking-wide font-bold my-1 text-green-500",children:["$",e]})]}),Object(p.jsxs)("div",{className:"flex-1 text-center p-2",children:[Object(p.jsx)("h4",{className:"uppercase font-bold text-gray-600",children:"Expense"}),Object(p.jsxs)("p",{className:"text-md md:text-xl break-all font-bold tracking-wide my-1 text-red-500",children:["$",n]})]})]})},w=n(21),T=function(){var t=Object(a.useContext)(g).addTransaction,e=Object(a.useState)(""),n=Object(d.a)(e,2),c=n[0],r=n[1],s=Object(a.useState)(0),o=Object(d.a)(s,2),i=o[0],l=o[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"text-gray-900 p-2 mb-10 text-xl font-bold border-b border-gray-300",children:"Add new transaction"}),Object(p.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==c&&0!==i){var n={id:Object(w.a)(),text:c,amount:i};t(n)}r(""),l(0)},children:[Object(p.jsxs)("div",{className:"py-2",children:[Object(p.jsx)("label",{htmlFor:"text",className:"inline-block text-lg font-bold text-gray-700",children:"Text"}),Object(p.jsx)("input",{className:"block cursor-pointer shadow-lg text-lg p-4 border-0 my-2 w-full",type:"text",value:c,name:"text",onChange:function(t){return r(t.target.value)},placeholder:"Enter text..."})]}),Object(p.jsxs)("div",{className:"py-2",children:[Object(p.jsxs)("label",{className:"inline-block text-lg font-bold text-gray-700",htmlFor:"amount",children:["Amount ",Object(p.jsx)("br",{}),"(negative - expense, positive - income)"]}),Object(p.jsx)("input",{className:"block cursor-pointer shadow-lg text-lg p-4 border-0 my-2 w-full",type:"number",value:0!==i?i:"",name:"amount",onChange:function(t){t.preventDefault(),l(parseInt(t.target.value))},placeholder:"Enter amount..."})]}),Object(p.jsx)("button",{className:"w-full uppercase py-2  bg-indigo-400 hover:bg-indigo-300 focus:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2  text-white text-2xl",children:"Add transaction"})]})]})},k=function(t){var e=t.transaction,n=e.id,c=e.text,r=e.amount,s=Object(a.useState)(!0),o=Object(d.a)(s,2),i=o[0],l=o[1];Object(a.useEffect)((function(){return l(!0),console.log("mount"),function(){console.log("unmount")}}),[]);var x=Object(a.useContext)(g).deleteTransaciton,u=r<0?"-":"+";return Object(p.jsxs)("li",{className:"bg-white  group relative shadow-lg text-gray-700 flex justify-between break-words items-center p-2 mx-2 text-lg font-bold border-r-4 ".concat(r<0?"border-red-600":"border-green-600"," ").concat(!0===i?"item-enter-active":"item-exit-active"),children:[c," ",Object(p.jsxs)("span",{className:"break-all ml-3",children:[" ",u,"$",Math.abs(r).toFixed(2)]}),Object(p.jsx)("button",{onClick:function(t){t.preventDefault(),l(!1),setTimeout((function(){x(n)}),.05)},className:"bg-red-400  py-2 px-3 md:transform md:-translate-y-1/2 md:-translate-x-full text-white md:absolute md:left-0 md:top-2/4 md:opacity-0  md:group-hover:transition-opacity md:group-hover:opacity-100",children:"x"})]})},S=function(){var t=Object(a.useContext)(g),e=t.getTransactions,n=t.transactions;return Object(a.useEffect)((function(){e()}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"border-b border-gray-300 text-gray-900 p-2 mb-10 mt-2 text-xl font-bold",children:"Transaction History"}),Object(p.jsx)("ul",{className:"md:px-8  py-3 mb-10 space-y-2",children:n&&n.map((function(t,e){return Object(p.jsx)(k,{transaction:t},e)}))})]})};var A=function(){return Object(p.jsxs)(h,{children:[Object(p.jsx)(v,{}),Object(p.jsx)("div",{className:"container my-3 mx-auto max-w-screen-xl items-center md:items-start px-1 sm:px-2 md:px-3 lg:px-5 xl:px-7 2xl:px-9",children:Object(p.jsx)(y,{})}),Object(p.jsxs)("div",{className:"container my-3 mx-auto max-w-screen-xl grid grid-cols-1 md:grid-cols-2 gap-2 min-h-screen justify-center md:justify-between items-center md:items-start px-1 sm:px-2 md:px-3 lg:px-5 xl:px-7 2xl:px-9",children:[Object(p.jsxs)("div",{className:"flex-1 ",children:[Object(p.jsx)(N,{}),Object(p.jsx)(T,{})]}),Object(p.jsx)("div",{className:"flex-1",children:Object(p.jsx)(S,{})})]})]})};s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(A,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.869f83b4.chunk.js.map